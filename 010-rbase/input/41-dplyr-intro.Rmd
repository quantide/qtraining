---
title: "Introduction to `dplyr`"
---

```{r options, include=FALSE, purl=FALSE}
#source("options.R")
```

```{r first, include=FALSE, purl=TRUE, message=FALSE}
# This code chunk contains R code already described in the previous chapters
# that is required by following examples
if(! "dplyr" %in% installed.packages()) {install.packages("dplyr")}
require(dplyr)
```


![](./images/flow-dtman.png)



The `dplyr` package for `R` is very powerful for data management since:

* it simplifies how you can think about common data manipulation tasks;
* it provides simple “verbs”, functions that correspond to the most common data manipulation tasks;
* it uses efficient data storage backends, so you spend less time waiting for the computer.

```{r eval=FALSE}
require(dplyr)
```

Let's start by having a look at how data frames are saved and visualized.


# `tbl_df`: the `dplyr` Data Frame Class

`dplyr` can work with data frames as is but it is worthwhile to convert them to a `tbl_df`: this is a wrapper around a data frame that will not accidentally print a lot of data to the screen, indeed tbl objects only print a few rows and all the columns that fit on one screen, describing the rest of it as text.


When the class of data object is not tbl, `tbl_df()` function should be used:

```{r tbl_df}
# Example of data frame
df <- data.frame(matrix(data = runif(20000), nrow = 1000, ncol = 20))
names(df) <- letters[1:20]

class(df)
head(df)

# If we do not convert it as a tbl_df, all df rows and columns will be printed when calling df 
dim(df)

# dplyr version of the same data frame (tbl_df conversion)
dfd <- tbl_df(df)
class(dfd)
dfd
```


