---
title: "The `pipe` operator"
---

```{r options, include=FALSE, purl=FALSE}
options(width = 108)
```

```{r first, include=FALSE, purl=TRUE, message=FALSE}
# This code chunk contains R code already described in the previous chapters
# that is required by following examples
require(tidyverse)
```


As stated in "R for data science" by Hadley Wickham and Garrett Grolemund, __pipes are powerful tools for clearly expressing a sequence of multiple operations__. The pipe operator (`%>%`) allows us to pipe the output from one function to the input of another function. The idea of piping is to read the functions from left to right. It is particularly useful with nested functions (reading from the inside to the outside) or with multiple operations.

![<small>Source: www.datacamp.com</small>](./images/pipe.png)

Pipes can work with nearly any functions (`tidyverse` and not-`tidyverse` functions), let us see an example.

Let us consider `bank` data set, included in `qdata` package, which contains information about a direct marketing campaigns of a Portuguese banking institution based on phone calls. 

```{r bank_tbl_df, message=FALSE}
require(qdata)
data(bank) 
```

Suppose you want to visualize the first rows of `bank` dataframe, by using `head()` function.   

Usually you write:

```{r pipe1}
head(bank)
```

By using `%>%`, the code becomes:

```{r pipe2}
bank %>% head()
```

Pipe takes the argument on the left (`bank`) and passes it to the function on the right (`head()`). So you don't need to write the first argument of the function. 

Other arguments of the function must be added to the function itself, as usually done. By default `head()` prints the first 6 rows of the dataframe. Suppose you want to print 10 rows, by setting `n` argument to 10:

```{r pipe3}
bank %>% head(n=10)
```

