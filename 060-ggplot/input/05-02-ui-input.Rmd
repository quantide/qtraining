---
title: "Adding inputs to the UI"
output: html_document
---

```{r options, include=FALSE, purl=FALSE}
knitr::opts_chunk$set(echo = TRUE, eval = FALSE, fig.pos = 'H', fig.width = 4, fig.height = 3)
options(width = 108)
```

## Introduction

Shiny apps are powerful because they allow you to interact with the data: inputs are the way users interact with it. Many kinds of interactions are supported by Shiny functions. In this section you will learn how to enter text, numbers, dates  and how to generally select inputs from a dropdown menu.


Input functions in Shiny have the same first two arguments, `inputId` and `label`. More specifically:

* `inputId` is the name that Shiny will use to refer to this input when you want to retrieve its current value, every input must have a unique inputId 
* `label` specifies the text in the display label that goes along with the input widget

Plus, each input functions has some additional arguments.

## Entering text: `textInput()`

The datset we are working on is based on the idea that comic characters are for men. so we may be intersted, for example, to see the evolution thoroughout time in the number of female and male characters separately. For this we want some kind of a text input to filter by gender. 

Many alternatives are availables: 

* `textInput()`: allows the user to enter text freely 
* `radioButtons()`: it restricts the user to only a few choices

Entering text freely may be risky, as the user may type something that is not contained in the dataset, hence, here you see an example of `radioButtons()`:

```{r radioButtons, eval = FALSE}
radioButtons("publisherInput", "Publisher",
                  choices = c("DC", "Marvel"),
                  selected = "DC")
```



## Dropdown menu: `selectInput()`

Another way to add text inputs is a dropdown manu that allows the user to select from a list of choices, i.e. from a dropdown menu. For now let’s only have CANADA, FRANCE, ITALY as options, and later we’ll see how to include all countries.

```{r selectInput}

selectInput("alignInput", "Character Type",
            choices = c("Good Characters", "Bad Characters", "Neutral Characters"))

```



## Entering numbers: `numericInput()` and `sliderInput()`

It may be interesting to look at the number of new characters appearing every year, visualising a line plot with the number of new characters per year. The user would need to eneter the start and the end year. Two options are possible for this:

* `numericInput()`: it allows the user to enter two inputs, that is the start and end year for the time series
* `sliderInput()` another way for doing it could be that of having a slidebar from which we select a year range. 


If you decide to use `numericInput()` something like this should be done:


While for `sliderInput()`, that in this case seems more appropriate, the code will look like this:

```{r sliderInput1}

sliderInput("yearInput", "Year", 1939, 2013, c(1990, 1995))

```

So, if we put all the input so far selected, we find the following:

```{r sliderInput2}
library(shiny)

load("../data/comics_data.RData")

ui <- fluidPage(
  titlePanel("Comic Characters"),
  em("Here is a visualisation of Comic Characters Data"), 
  sidebarLayout(
    sidebarPanel(
      radioButtons("publisherInput", "Publisher",
                  choices = c("DC", "Marvel"),
                  selected = "DC"),
      selectInput("alignInput", "Character Type",
                  choices = c("Good Characters", "Bad Characters", "Neutral Characters")),
      sliderInput("yearInput", "Year", 1939, 2013, c(1990, 2013))),
    mainPanel("the results will go here")
  )
)

server <- function(input, output) {}

shinyApp(ui = ui, server = server)
```



## Shinydashboard

Similarly, if you prefer the shinydashboard layout, you can embed all the above features into a `shinydashboard` page:

```{r shinydashboard}
library(shiny)
library(shinydashboard)

load("../data/comics_data.RData")


ui <- dashboardPage(
    dashboardHeader(title = "Comic characters Data"),
    ## Sidebar content
    dashboardSidebar(
      sidebarMenu(
        menuItem("Plot", tabName = "plot", icon = icon("th")),
        menuItem("Summary", tabName = "summary", icon = icon("th"))
        )
      ),

## Body content
  dashboardBody(
    tabItems(
      # First tab content
      tabItem(tabName = "plot",
        fluidRow(
          box(title = "Choose publisher", radioButtons( "publisherInput", "Publisher",
                  choices = c("DC", "Marvel"),
                  selected = "DC")),
          box(title = "Select year", sliderInput("yearInput", "Year", 1939, 2013, c(1990, 2013))
              )
        ),
      # Second tab content
      tabItem(tabName = "summary",
        h2("Some output")
      )
    )
  )
)
)

server <- function(input, output) {}

shinyApp(ui = ui, server = server)
```


