---
title: "How making a surface plot"
author: "Veronica"
date: "October 20, 2016"
output: html_document
---

## Surface Plots

`ggplot2` does not support true 3d surfaces. However it does support many common tools for representing 3d surfaces in 2d: contours, coloured tiles and bubble plots. These all works similarly, differing only in the aesthetic used for the third dimension  

```{r}
data("faithful")
v <- ggplot(faithfuld, aes(waiting, eruptions, z = density))
v + geom_contour()


ggplot(faithful, aes(waiting, eruptions)) +
  geom_density_2d()

v + geom_contour(bins = 2)

v + geom_contour(bins = 10)

v + geom_contour(binwidth = 0.01)


v + geom_contour(aes(colour = ..level..))

v + geom_raster(aes(fill = density)) +
  geom_contour(colour = "white")


ggplot(faithfuld, aes(waiting, eruptions)) +
 geom_raster(aes(fill = density))


# Interpolation smooths the surface & is most helpful when rendering images.
ggplot(faithfuld, aes(waiting, eruptions)) +
 geom_raster(aes(fill = density), interpolate = TRUE)

# If you want to draw arbitrary rectangles, use geom_tile() or geom_rect()
df <- data.frame(
  x = rep(c(2, 5, 7, 9, 12), 2),
  y = rep(c(1, 2), each = 5),
  z = factor(rep(1:5, each = 2)),
  w = rep(diff(c(0, 4, 6, 8, 10, 14)), 2)
)
ggplot(df, aes(x, y)) +
  geom_tile(aes(fill = z))

ggplot(df, aes(x, y)) +
  geom_tile(aes(fill = z, width = w), colour = "grey50")

# Justification controls where the cells are anchored
df <- expand.grid(x = 0:5, y = 0:5)
df$z <- runif(nrow(df))
# default is compatible with geom_tile()
ggplot(df, aes(x, y, fill = z)) + geom_raster()

```